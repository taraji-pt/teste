<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Apostas Profissional</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; max-width: 650px; margin: auto; background: #f5f5f5; }
  h2 { text-align: center; }
  input, button { padding: 5px; margin: 5px 0; width: 100%; }
  label { display: block; margin-top: 10px; }
  .resultado { margin-top: 20px; padding: 15px; border-radius: 10px; font-weight: bold; }
  .zona1 { background: #4CAF50; color: white; padding: 5px; border-radius: 5px; }
  .zona2 { background: #8BC34A; color: white; padding: 5px; border-radius: 5px; }
  .zona3 { background: #FFC107; color: black; padding: 5px; border-radius: 5px; }
  .zona4 { background: #FF9800; color: white; padding: 5px; border-radius: 5px; }
  .zona5 { background: #F44336; color: white; padding: 5px; border-radius: 5px; }
</style>
</head>
<body>

<h2>Calculadora de Apostas Profissional</h2>

<label>Vitórias/Pontos Equipa A:</label>
<input type="number" id="vitA" placeholder="Vitórias ou Pontos A" min="0">

<label>Jogos Totais / Pontos Máx Equipa A:</label>
<input type="number" id="totalA" placeholder="Jogos Totais ou Pontos Máx A" min="1">

<label>Vitórias/Pontos Equipa B:</label>
<input type="number" id="vitB" placeholder="Vitórias ou Pontos B" min="0">

<label>Jogos Totais / Pontos Máx Equipa B:</label>
<input type="number" id="totalB" placeholder="Jogos Totais ou Pontos Máx B" min="1">

<label>Buffer de segurança (diferença mínima para apostar)</label>
<input type="number" id="buffer" placeholder="Buffer" step="0.01" value="0.2">

<hr>

<label>
  <input type="checkbox" id="casaCheck"> Equipa A joga em casa? (Fator casa +5%)
</label>

<label>
  <input type="checkbox" id="h2hCheck"> Equipa A tem vantagem H2H? (H2H +3%)
</label>

<button onclick="calcularAposta()">Calcular Aposta</button>

<div class="resultado" id="resultado"></div>

<script>
function calcularZona(forca) {
    if(forca >= 0.85) return 1;
    else if(forca >= 0.70) return 2;
    else if(forca >= 0.50) return 3;
    else if(forca >= 0.30) return 4;
    else return 5;
}

function getZonaClasse(zona) {
    return 'zona' + zona;
}

function calcularAposta() {
    let vitA = parseFloat(document.getElementById('vitA').value);
    let totalA = parseFloat(document.getElementById('totalA').value);
    let vitB = parseFloat(document.getElementById('vitB').value);
    let totalB = parseFloat(document.getElementById('totalB').value);
    let buffer = parseFloat(document.getElementById('buffer').value);

    if(totalA <= 0 || totalB <= 0) {
        document.getElementById('resultado').innerHTML = "Jogos/Pontos Máx devem ser > 0";
        return;
    }

    // Força relativa básica
    let forcaA = vitA / totalA;
    let forcaB = vitB / totalB;

    // Aplicar fator casa +5%
    if(document.getElementById('casaCheck').checked) {
        forcaA += 0.05;
        forcaB -= 0.05;
    }

    // Aplicar H2H +3%
    if(document.getElementById('h2hCheck').checked) {
        forcaA += 0.03;
        forcaB -= 0.03;
    }

    // Garantir limites 0-1
    forcaA = Math.min(Math.max(forcaA,0),1);
    forcaB = Math.min(Math.max(forcaB,0),1);

    // Zonas
    let zonaA = calcularZona(forcaA);
    let zonaB = calcularZona(forcaB);

    // Diferença
    let diff = forcaA - forcaB;

    // Decisão
    let decisao = "";
    if(Math.abs(diff) < buffer) {
        decisao = "Sem aposta (diferença menor que buffer)";
    } else {
        decisao = (diff > 0) ? `Aposta na Equipa A (Zona ${zonaA})` : `Aposta na Equipa B (Zona ${zonaB})`;
    }

    // Resultado com cores
    document.getElementById('resultado').innerHTML = `
        Força Equipa A: <span class="${getZonaClasse(zonaA)}">${forcaA.toFixed(2)} (Zona ${zonaA})</span><br>
        Força Equipa B: <span class="${getZonaClasse(zonaB)}">${forcaB.toFixed(2)} (Zona ${zonaB})</span><br>
        Diferença: ${diff.toFixed(2)}<br>
        <strong>${decisao}</strong>
    `;
}
</script>

</body>
</html>
